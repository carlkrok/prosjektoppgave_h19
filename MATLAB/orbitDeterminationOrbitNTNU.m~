% OrbitNTNU: heigth 574 km i=97.691 deg, circular

run earthParameters;

% rSat_old = rEarth + 574
% tSat = 96*60
% rSat = rSat_old % ((tSat) / (2 * (pi/sqrt(muEarth))))^(2/3)
% vSat = sqrt(muEarth / rSat)



tSat_check = 2*(pi/sqrt(muEarth))*aSat^(3/2)

rSat_a = 609
rSat_p = 574


e = 0; % Assuming circular orbit
T = 0; % 
i = 97.4; % Deg
O = 0;
w = 0;
%hNorm = rSat*vSat;

r0PQW = positionVectorPQW( muEarth, hNorm, e, T );
v0PQW = velocityVectorPQW( muEarth, hNorm, e, T );
QmatPQWtoECI = transformPQWtoECI( i, O, w );
r0ECI = QmatPQWtoECI * r0PQW
v0ECI = QmatPQWtoECI * v0PQW

rNorm = norm(r0ECI)
vNorm = norm(v0ECI)

rScalingFactor = rSat_old / rNorm

r0Final = rScalingFactor * r0ECI

rNormFinal = norm(r0Final)